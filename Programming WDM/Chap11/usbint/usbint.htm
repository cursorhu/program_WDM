<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1252">
<META NAME="Generator" CONTENT="Microsoft Word 97">
<TITLE>The USBINT Sample</TITLE>
<META NAME="Template" CONTENT="C:\PROGRAM FILES\MICROSOFT OFFICE\OFFICE\html.dot">
</HEAD>
<BODY TEXT="#000000" LINK="#0000ff" VLINK="#800080" BGCOLOR="#ffffff" leftmargin="8">

<H2>The USBINT Sample</H2>
<P>The USBINT Sample accompanies Chapter 11 and illustrates how to program an interrupt endpoint</P>
<P>The sample includes three components:</P>

<UL>
<LI>USBINT.SYS (SYS subdirectory) is a WDM driver for a USB device based on the Anchor Chips development board. </LI>
<LI>TEST.EXE (TEST subdirectory) is a Win32 console application for testing USBINT.SYS. </LI>
<LI>USBINT.HEX (EZUSB subdirectory) is the firmware image for the USBINT device.</LI></UL>

<H3>Building USBINT</H3>
<P>To build USBINT.SYS, follow the <A HREF="../../wdmbook.htm#wdmbuild">general instructions for building a WDM sample</A>. The Microsoft Visual C++ project file is named USBINT.DSP in the SYS subdirectory.</P>
<P>To build TEST.EXE, follow the <A HREF="../../wdmbook.htm#usermodebuild">general instructions for building user-mode programs</A>. The Microsoft Visual C++ project file is named TEST.DSP in the TEST subdirectory.</P>
<H3>Testing USBINT</H3>
<P>First follow the <A HREF="../../wdmbook.htm#usbtest">general instructions for testing USB samples</A> to install the device firmware (USBINT.HEX in the EZUSB subdirectory) and the driver. Then open a command prompt and run TEST.EXE from the TEST\DEBUG subdirectory. It will appear to hang. Press button number 1 on the Anchor Chips development board. Each time you press the button, the LED display will change, and TEST will record another interrupt. Terminate TEST by pressing Ctrl+Break.</P>
<P>While TEST is not running, the USBINT device should be powered down. You can tell this is the case if only the decimal point light on the development board’s LED display is on. With some combinations of motherboard, BIOS, and controller chip set, USB power management doesn't work in either Windows 98 or Windows 2000. Your computer may not, therefore, allow you power down the USBINT device. The fault is not in the driver.</P></BODY>
</HTML>
